

<div id="row">
  <div class="col-sm-12 col-lg-12">
    <div class="panel panel-bd lobidrag " >
      <div class="panel-heading">
        <div class="panel-title ">
          <h4>
            <p id="tipo">Menú de aplicaciones</p>
        </h4>
        </div>
      </div>

      <div class="panel-body" >
        

        <form id="fg-app-menus" class="form-horizontal" data-toggle="validator" role="form">
          
        <div class="row">

           
          <div class="col-lg-12 ">
          
            <div class="col-lg-12">
                <div class="form-group">
                    <label for="id_app" class="control-label">App</label> 
                    <select id="id_app" name="id_app" class="select form-control" required="required">
                        <option></option>
                    </select>
                  </div>

                  <div class="form-group">
                      <label for="id_menu" class="control-label">Menú</label> 
                      <select id="id_menu" name="id_menu" class="select form-control" required="required">
                          <option></option>
                      </select>
                    </div>

                    <div  class="form-group">
                        <label for="name" class="control-label">Estatus</label> 
                      <select  data-error="¡Necesitamos un estatus!"  name="status" id="status" aria-describedby="statusHelpBlock" class="select form-control" required="required">
                          <option></option>
                      </select> 
                      <span id="statusHelpBlock" class="help-block">Si  no se activa, verifica que la aplicación no requiere ese menú.</span>
                      <div class="help-block with-errors"></div> 
                   
                  </div>
          </div>
        

          
          </div>

        </div>
                   
        
          </form>

          
     </div>
      </div>
    </div>

    </div>
  


  <script src="../assets/plugins/validator/validator.min.js" type="text/javascript"></script>



  <script>

    /**
     * 
     *  Se inicializa formulario
     *  Asegurate que el nombre nombre del formulario sea unico id="Nombre"
     * 
     * **/

$(document).ready(function(){

       $f.forms.new(
        {
           /*
           * (name) : Nombre del ID del formulario
           * (table_code): código de la tabla 
           * donde se harán las acciiones de insert, update y delete.
           * El nombre de la tabla se econtrará simpre incriptada.
           * (View): Es el nombre de la consulta o vista que obtiene los datos predetrminados para mostrar en la tabla
           */
          info:  
                {
                  name: 'fg-app-menus',
                  table_code: 'KNA816HOMRNRI1FP1P8QNRKBNYLSWWJPNW72EJ89DTNLODLKPKHD5E9SX0XD',
                  view: 'all_app_menus',
                },
           /**
            * Se estsablace las reglas para el formulario
           */
           rules:
                {
                   show: true,
                   new: true,
                   change: true,
                   delete: true,
                   security: undefined 
                },
            /**
             * Son los datos que se agragarán al formulario de manera dinamica cada que 
             * ejecute un insert o un update. #TODO 
             * Estos son opcionales y se fucionarán con los datos en el formulario
             * Ejemplo de uso; en el modulo de categorías existen varias como productos, servicios etc
             * Se usuará la misam tabla per distinto tipode categorías
             */
             optionalData:  {
                          0 : {
                                  name : 'updated_at',
                                  value: $f.app.getDateTime , function_: true,
                              }
                     },
                     reports: {
                  pdf: false,
                  excel: false,
                  print: false,
                  copy: false,
                  csv: false
              }, 

             columns: [
                     { "data": "app_name", "title": "APP" },
                     { "data": "menu_name", "title": "MENÜ" },
                     { "data": "module_name", "title": "MÓDULO" },
                     { "data": "id", "title": "ID ASIGNACIÓN" },
                     { "data": "status", "title": "ESTÁTUS" },
                     { "data": "updated_at", "title": "MODIFICADO" }
                     ],
                /*
                   dropdown
                   Especifica el view o query que obtiene los datos para llenar tus datos en tus <SELECT></SELECRT>
                */
                dropdown : {
                     0: {id: 'id_menu', view: 'menus_select_option'},
                     1: {id: 'id_app', view: 'app_select_option'},
                     2: {id: 'status', view: 'status_1_0'}
                },

                /*
                 * Events
                 */
             events: 
             {
                onEdit: cambiarIcon,

                beforeSave: beforeSave, // Si se retorna true se continuará con el guardado, se reotorna                                false no se guardará
                afterSave: undefined,
                beforeChange: function(){
                                  return true
                            }, // igual que beforeSave
                afterChange: undefined,
                onDelete: function(){ return true},
                beforeDelete: undefined,
                afterDelete: undefined,
                onNew: onNew,
             }   
              

        }
    )

})

    let idForm = '#fg-menus'

    function cambiarIcon ()
    {
      //  $(idForm + " #sm-view-icon" ).html($(idForm + ' input[name=icon]' ).val())
    }

    function beforeSave (){
            return true
       }

    function onNew()
    {   
//        $(idForm + " #sm-view-icon" ).html('')
    }


</script>










 