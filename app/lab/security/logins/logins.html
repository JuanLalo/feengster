

<div id="row">
    <div class="col-sm-12 col-lg-12">
      <div class="panel panel-bd lobidrag " >
        <div class="panel-heading">
          <div class="panel-title ">
            <h4>
              <p id="tipo">Registro de Logins</p>
          </h4>
          </div>
        </div>
  
        <div class="panel-body" >
          
  
          <form id="fg-logins" class="form-horizontal" data-toggle="validator" role="form">
            
        
            </form>
  
            
       </div>
        </div>
      </div>
  
      </div>
    
  
  
    <script src="../assets/plugins/validator/validator.min.js" type="text/javascript"></script>
  
  
  
    <script>
  
      /**
       * 
       *  Se inicializa formulario
       *  Asegurate que el nombre nombre del formulario sea unico id="Nombre"
       * 
       * **/
  
  $(document).ready(function(){
  
         $f.forms.new(
          {
             /*
             * (name) : Nombre del ID del formulario
             * (table_code): código de la tabla 
             * donde se harán las acciiones de insert, update y delete.
             * El nombre de la tabla se econtrará simpre incriptada.
             * (View): Es el nombre de la consulta o vista que obtiene los datos predetrminados para mostrar en la tabla
             */
            info:  
                  {
                    name: 'fg-logins',
                    table_code: 'BDNUZ4FHWSWVF8N7S4Y3DB5K4MF1LM3AXE1P46BRLF2Q8M6S3VT50EMPCEMN',
                    view: 'all_logins_app_all',
                  },
             /**
              * Se estsablace las reglas para el formulario
             */
             rules:
                  {
                     show: true,
                     new: false,
                     change: false,
                     delete: true
                  },
  
              reports: {
                    pdf: true,
                    excel: true,
                    print: true,
                    copy: false,
                    csv: false
                },      
              /**
               * Son los datos que se agragarán al formulario de manera dinamica cada que 
               * ejecute un insert o un update. #TODO 
               * Estos son opcionales y se fucionarán con los datos en el formulario
               * Ejemplo de uso; en el modulo de categorías existen varias como productos, servicios etc
               * Se usuará la misam tabla per distinto tipode categorías
               */
               optionalData:  {
                            0 : {
                                    name : 'updated_at',
                                    value: $f.app.getDateTime , function_: true,
                                }
                       },
  
               columns: [
                       { "data": "id_user", "title": "ID USER" },
                       { "data": "platform", "title": "PLATAFORMA" },
                       { "data": "token", "title": "TOKEN" },
                       { "data": "ip", "title": "IP" },
                       { "data": "city", "title": "CIUDAD" },
                       { "data": "explorer", "title": "EXPLORADOR" },
                       { "data": "created_at", "title": "FECHA DE LOGIN" },
                       { "data": "updated_at", "title": "FECHA MODIFICADO" },
                       { "data": "status", "title": "ESTATUS" }
                       ],
                  /*
                     dropdown
                     Especifica el view o query que obtiene los datos para llenar tus datos en tus <SELECT></SELECRT>
                  */
                  dropdown : {
                        0: {id: 'status', view: 'status_1_0'},
                        1: {id: 'android', view: 'yes_no_binary'},
                        2: {id: 'print', view: 'yes_no_binary'},
                        3: {id: 'id_module', view: 'modules_select_option'}
                  },
  
                  /*
                   * Events
                   */
               events: 
               {
                  onEdit: cambiarIcon,
  
                  beforeSave: beforeSave, // Si se retorna true se continuará con el guardado, se reotorna                                false no se guardará
                  afterSave: undefined,
                  beforeChange: function(){
                                    return true
                              }, // igual que beforeSave
                  afterChange: undefined,
                  onDelete: function(){ return true},
                  beforeDelete: undefined,
                  afterDelete: undefined,
                  onNew: onNew,
               }   
                
  
          }
      )
  
  })
  
      let idForm = '#fg-menus'
  
      function cambiarIcon ()
      {
        //  $(idForm + " #sm-view-icon" ).html($(idForm + ' input[name=icon]' ).val())
      }
  
      function beforeSave (){
              return true
         }
  
      function onNew()
      {   
  //        $(idForm + " #sm-view-icon" ).html('')
      }
  
  
  </script>
  
  
  
  
  
  
  
  
  
  
   